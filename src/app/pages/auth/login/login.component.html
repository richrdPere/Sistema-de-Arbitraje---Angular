<section class="relative w-full min-h-screen">
  <div class="relative min-h-screen bg-cover bg-center" style="background-image: url('assets/bg-justicia.jpg');">
    <!-- Overlay oscuro -->
    <div class="absolute inset-0 bg-black/40 "></div>

    <!-- Contenido principal -->
    <div class="flex items-start justify-center min-h-screen pt-15">
      <div
        class="bg-base-200 p-8 rounded-2xl shadow-lg w-full max-w-sm border border-base-200 relative overflow-hidden">




        <div class="flex flex-col items-center ">
          <p class="text-info text-2xl font-bold">Iniciar Sesión</p>
        </div>

        <!-- FORMULARIO VINCULADO -->
        <form [formGroup]="form" (ngSubmit)="login()" class="mt-6" autocomplete="off">

          <!-- Correo -->
          <label class="block text-xs font-medium text-base-50">Correo</label>
          <input type="email" formControlName="correo" placeholder="Tu correo"
            class="mt-1 w-full px-3 py-2 border border-base-50 text-xs rounded-md focus:outline-none">

          @if (form.get('correo')?.invalid && form.get('correo')?.touched) {
          <div class="text-error text-xs mt-1">
            Correo inválido o requerido.
          </div>
          }

          <!-- Contraseña -->
          <label class="block text-xs font-medium text-base-50 mt-4">Password</label>
          <div class="relative">
            <input type="password" formControlName="password" placeholder="Tu contraseña"
              class="mt-1 w-full px-3 py-2 border border-base-50 text-xs rounded-md  focus:outline-none">
            <span class="absolute right-3 top-3 cursor-pointer text-gray-500">👁</span>
          </div>

          @if (form.get('password')?.invalid && form.get('password')?.touched) {
          <div class="text-error text-xs mt-1">
            La contraseña es obligatoria.
          </div>
          }
          <!-- Recordarme -->
          <div class="flex items-center justify-between mt-4">
            <label class="flex items-center text-sm text-gray-600">
              <input type="checkbox" class="mr-2 border-gray-300 text-xs"> Recordarme
            </label>
            <a href="#" class="text-xs text-blue-500 hover:underline ">¿Olvidaste tu contraseña?</a>
          </div>

          <!-- Error del servidor -->
          @if (errorMessage) {
          <div class="text-error text-xs mt-3 text-center">
            {{ errorMessage }}
          </div>
          }

          <!-- Botón de envío -->
          <button type="submit" [disabled]="loading || form.invalid"
            class="mt-6 w-full bg-info hover:bg-indigo-700 text-base-200 text-sm py-2 rounded-md text-center font-bold">
            @if (!loading) {<span>Iniciar Sesión</span>}

            @if(loading){ <span class="loading loading-spinner loading-xs"></span>}


          </button>
        </form>
      </div>

    </div>



  </div>

</section>
