@if (mostrarModal){

<div class="modal modal-open">

  <div class="modal-box max-w-4xl bg-base-100 text-base-content rounded-2xl shadow-2xl p-8">

    <!-- Header -->
    <div class="flex justify-between items-center border-b border-base-300 pb-2">
      <h3 class="text-2xl font-semibold">Documentos del expediente</h3>
      <button type="button" (click)="cerrarModal()" class="btn btn-sm btn-circle btn-ghost text-xl">✕</button>
    </div>


    <!-- SIN DOCUMENTOS -->
    <div *ngIf="!documentos || documentos.length === 0" class="alert alert-info">
      <i class="fa-solid fa-circle-info"></i>
      No hay documentos registrados para este expediente.
    </div>

    <!-- LISTADO -->
    <div *ngIf="documentos.length > 0" class="overflow-x-auto">
      <table class="table table-zebra w-full">
        <thead>
          <tr>
            <th>#</th>
            <th>Título</th>
            <th>Tipo</th>
            <th>Fecha</th>
            <th class="text-center">Acciones</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let doc of documentos; index as i">
            <td>{{ i + 1 }}</td>
            <td>{{ doc.titulo }}</td>
            <td>
              <span class="badge badge-outline">
                {{ doc.tipo_archivo }}
              </span>
            </td>
            <td>{{ doc.fecha_subida | date:'dd/MM/yyyy HH:mm' }}</td>
            <td class="text-center space-x-2">
              <button class="btn btn-sm btn-ghost" (click)="verDocumento(doc)" title="Ver">
                <i class="fa-solid fa-file-pdf"></i>
              </button>

              <button class="btn btn-sm btn-ghost" (click)="descargarDocumento(doc)" title="Descargar">
                <i class="fa-solid fa-download"></i>
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

}
